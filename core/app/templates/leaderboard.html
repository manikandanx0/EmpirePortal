{% extends "base.html" %}

{% block title %}Leaderboard | ðŸ‘‘ Tech Empire Quest{% endblock %}

{% block content %}
<section class="max-w-5xl mx-auto space-y-10">

  <!-- Header -->
  <div class="text-center">
    <h2 class="mono text-2xl tracking-widest text-[var(--neon-purple)]">
      Global Rankings
    </h2>
    <p class="mono text-sm text-[var(--text-muted)] tracking-wider mt-2">
      // Live competitive standings
    </p>
  </div>

  <!-- Leaderboard Panel -->
  <div class="panel card hud overflow-x-auto">

    <table
      role="table"
      aria-describedby="leaderboard-caption"
      class="w-full border-collapse"
    >
      <caption id="leaderboard-caption" class="sr-only">
        Global rankings table showing team and score
      </caption>

      <thead>
        <tr class="border-b border-white/10">
          <th
            scope="col"
            class="text-left py-3 px-4 mono text-xs tracking-widest text-[var(--text-muted)]"
          >
            Rank
          </th>
          <th
            scope="col"
            class="text-left py-3 px-4 mono text-xs tracking-widest text-[var(--text-muted)]"
          >
            Squad
          </th>
          <th
            scope="col"
            class="text-right py-3 px-4 mono text-xs tracking-widest text-[var(--text-muted)]"
          >
            Score
          </th>
        </tr>
      </thead>

      <tbody>
        {% for score in leaderboard %}
          <tr
            class="border-b border-white/5 hover:bg-white/5 transition"
          >

            <!-- Rank -->
            <td role="cell" class="py-3 px-4 mono tracking-wider">
              {% if forloop.counter == 1 %}
                <span class="text-[var(--neon-cyan)]">ðŸ¥‡ #{{ forloop.counter }}</span>
              {% elif forloop.counter == 2 %}
                <span class="text-[var(--neon-purple)]">ðŸ¥ˆ #{{ forloop.counter }}</span>
              {% elif forloop.counter == 3 %}
                <span class="text-[var(--neon-pink)]">ðŸ¥‰ #{{ forloop.counter }}</span>
              {% else %}
                <span class="text-[var(--text-muted)]">#{{ forloop.counter }}</span>
              {% endif %}
            </td>

            <!-- Team -->
            <td role="cell" class="py-3 px-4 tracking-wider">
              {{ score.team.name }}
            </td>

            <!-- Score -->
            <td role="cell" class="py-3 px-4 text-right mono tracking-wider text-[var(--neon-cyan)]">
              <span aria-label="team score">
                {{ score.total }}
              </span>
            </td>

          </tr>
        {% empty %}
          <tr>
            <td colspan="3" class="py-6 text-center mono text-sm text-[var(--text-muted)]">
              // No data available
            </td>
          </tr>
        {% endfor %}
      </tbody>

    </table>

  </div>

</section>
{% endblock %}
